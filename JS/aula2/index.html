<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #formulario{
            display: flex;
            flex-direction: column;
        }
        #listagem{
            background-color: gray;
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <button id="limpar">Limpar localStorage</button>
    <div id="formulario">
        <label for="id">id</label>
        <input type="text" name="id" id="id" readonly>
        <label for="nome">nome</label>
        <input type="text" nome="nome" id="nome">
        <label for="email">email</label>
        <input type="email" nome="email" id="email">
        <button id="botaoSalvar">Cadastrar</button>
        
    </div>
    <div id="listagem">
        
    </div>
    <script>
        let inputid = document.querySelector("#id");
        let inputnome = document.querySelector("#nome");
        let inputemail = document.querySelector("#email");

        let listagem=document.querySelector("#listagem")

        let button = document.querySelector("#botaoSalvar");
        let buttonlimpar = document.querySelector("#limpar")

        var listaNomes=[];
        buttonlimpar.addEventListener("click", ()=>{
            localStorage.clear();
            listagem.innerHTML="";
        })
        if (localStorage.getItem("listaNomes")){
            listaNomes= JSON.parse( localStorage.getItem("listaNomes"));
        } else{
            listaNomes=[];
        }

        button.addEventListener("click", ()=>{
            let maxid=listaNomes.length
            listaNomes.push(
                {"id":maxid+1,
                "nome":inputnome.value,
                "email":inputemail.value
            })
            console.log(listaNomes)
            listagemPessoa();
            localStorage.setItem("listaNomes", JSON.stringify(listaNomes));
        })
        
        function listagemPessoa(){
            listagem.innerHTML="";
            listaNomes.forEach( (e) =>{
            var item = `
            <div class="itemlista">
                <input type="text" class="id" value=${e.id}>
                <input type="text" class="nome" value=${e.nome}>
                <input type="text" class="email" value=${e.email}>
                </div>`;
                
                listagem.innerHTML+=item;
            })
        }
        listagemPessoa();
    </script>


    <script>
        /*console.log("Olá mundão perdido!");*/
        /*let paragrafo=document.createElement("p");
        paragrafo.innerHTML="Olá Mundão";
        paragrafo.style.fontSize=34;
        paragrafo.id="p01"
        paragrafo.style.color="rgb(255,000,000)";

        document.body.appendChild(paragrafo)*/
        
        //Tipos de Variaveis
        let i =1//Define uma variavel i Numerica
        var a= 1 // Define uma variavel a Numerica
        const pi = 3.141516 // Define uma var I Numerica

        let nome = "batata" // Define uma variavel do tipo string
    </script>
    
</body>
</html>